/*! lazysizes - v0.5.2 - 2014-12-17
 Licensed MIT */
!function(a,b,c){"use strict";function d(a,b){return a.w-b.w}function e(a){var b={url:a.url};return b[a.desc.type]=a.desc.val,b}function f(b){var c={srcset:b.getAttribute(lazySizes.cfg.srcsetAttr)}||"",f=a.respimage?respimage._.parseSet(c):a.parseSrcset(c.srcset);return b._lazyMaxDprSrcset=c,c.cands=f,f[0]&&f[0].desc&&(f=f.map(e),c.cands=f),c.index=0,c.dirty=!1,f[0]&&f[0].w?(f.sort(d),c.cSrcset=[f[0].url+" "+f[0].w+"w"]):(c.cSrcset=[],c.cands=[]),c}function g(a){var b,c,d,e=a.parentNode||{},g=f(a);if(g.isImg=!0,k.test(e.nodeName||""))for(g.picture=!0,b=e.getElementsByTagName("source"),c=0,d=b.length;d>c;c++)f(b[c]).isImg=!1;return g}function h(a,b,c){var d,e,f;return a&&a.w?(f=a.w/c,d=.9*(1-a.w/c),e=b/c-1,e*=Math.pow(f,1.3),0>e-d):!0}function i(a,b){var c,d,e;for(c=a.index+1;c<a.cands.length;c++){if(d=a.cands[c],e=!1,d.w||!d.x&&!d.d){if(!(d.w<=b||h(a.cands[c-1],d.w,b)))break;e="w"}else!d.x&&d.d&&(d.x=d.d),e="x";e&&(a.cSrcset.push(d.url+" "+d[e]+e),a.index=c)}}function j(b,d,e){var f,g,h=b._lazyMaxDprSrcset;h&&(g=h.index,i(h,d),h.dirty&&g==h.index||(b.setAttribute(e,h.cSrcset.join(", ")),h.dirty=!0,h.isImg&&"srcset"==e&&!a.HTMLPictureElement&&a.respimage&&!respimage._.observer&&(f=b[respimage._.ns],f&&(f.srcset=c),respimage({reparse:!0,elements:[b]}))))}var k=/^picture$/i;a.addEventListener&&b.addEventListener("lazybeforesizes",function(b){var c,d,e,f,h,i,k,l;if(!(!a.respimage&&!a.parseSrcset||b.defaultPrevented||!(c=b.target.getAttribute("data-optimumx")||b.target.getAttribute("data-maxdpr"))||c>(a.devicePixelRatio||1)||b.target._lazysizesWidth&&b.target._lazysizesWidth>b.details.width)&&(d=b.target._lazyMaxDprSrcset||g(b.target),e=b.details.width*c)){if(f=b.details.dataAttr?lazySizes.cfg.srcsetAttr:"srcset",d.picture&&(h=b.target.parentNode))for(i=h.getElementsByTagName("source"),k=0,l=i.length;l>k;k++)j(i[k],e,f);j(b.target,e,f)}},!1)}(window,document);